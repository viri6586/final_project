{"map":"{\"version\":3,\"sources\":[\"/Users/victoria/Documents/web_dev/final_/src/ThreePointVis/Controls.js\",\"/Users/victoria/Documents/web_dev/final_/src/ThreePointVis/layouts.js\",\"/Users/victoria/Documents/web_dev/final_/src/ThreePointVis/InstancedPoints.js\",\"/Users/victoria/Documents/web_dev/final_/src/ThreePointVis/ThreePointVis.js\",\"/Users/victoria/Documents/web_dev/final_/src/App.js\",\"/Users/victoria/Documents/web_dev/final_/src/index.js\"],\"names\":[\"extend\",\"TrackballControls\",\"Controls\",\"_ref\",\"Object\",\"objectDestructuringEmpty\",\"controls\",\"React\",\"_useThree\",\"useThree\",\"camera\",\"gl\",\"useFrame\",\"current\",\"update\",\"react\",\"ref\",\"args\",\"domElement\",\"dynamicDampingFactor\",\"keys\",\"mouseButtons\",\"LEFT\",\"THREE\",\"PAN\",\"MIDDLE\",\"ZOOM\",\"RIGHT\",\"ROTATE\",\"useLayout\",\"data\",\"_ref$layout\",\"layout\",\"theta\",\"i\",\"length\",\"datum\",\"radius\",\"Math\",\"max\",\"sqrt\",\"asin\",\"x\",\"cos\",\"y\",\"sin\",\"z\",\"spiralLayout\",\"numPoints\",\"numCols\",\"ceil\",\"numRows\",\"col\",\"row\",\"floor\",\"gridLayout\",\"scratchObject3D\",\"InstancedPoints\",\"meshRef\",\"mesh\",\"_data$i\",\"position\",\"set\",\"rotation\",\"PI\",\"updateMatrix\",\"setMatrixAt\",\"matrix\",\"instanceMatrix\",\"needsUpdate\",\"frustumCulled\",\"attach\",\"color\",\"ThreePointVis\",\"web\",\"far\",\"ThreePointVis_Controls\",\"intensity\",\"skyColor\",\"groundColor\",\"ThreePointVis_InstancedPoints\",\"Array\",\"fill\",\"map\",\"d\",\"id\",\"App\",\"_React$useState\",\"_React$useState2\",\"slicedToArray\",\"setLayout\",\"className\",\"src_ThreePointVis_ThreePointVis\",\"onClick\",\"undefined\",\"rootElement\",\"document\",\"getElementById\",\"ReactDOM\",\"render\",\"react_default\",\"a\",\"createElement\"],\"mappings\":\"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\",\"sourcesContent\":[\"import * as React from 'react';\\nimport { extend, useThree, useFrame } from 'react-three-fiber';\\nimport { TrackballControls } from 'three/examples/jsm/controls/TrackballControls';\\nimport * as THREE from 'three';\\n\\n// extend THREE to include TrackballControls\\nextend({ TrackballControls });\\n\\n// key code constants\\nconst ALT_KEY = 18;\\nconst CTRL_KEY = 17;\\nconst CMD_KEY = 91;\\n\\nconst Controls = ({}) => {\\n  const controls = React.useRef();\\n  const { camera, gl } = useThree();\\n\\n  useFrame(() => {\\n    // update the view as the vis is interacted with\\n    controls.current.update();\\n  });\\n\\n  return (\\n    <trackballControls\\n      ref={controls}\\n      args={[camera, gl.domElement]}\\n      dynamicDampingFactor={0.1}\\n      keys={[\\n        ALT_KEY, // orbit\\n        CTRL_KEY, // zoom\\n        CMD_KEY, // pan\\n      ]}\\n      mouseButtons={{\\n        LEFT: THREE.MOUSE.PAN, // make pan the default instead of rotate\\n        MIDDLE: THREE.MOUSE.ZOOM,\\n        RIGHT: THREE.MOUSE.ROTATE,\\n      }}\\n    />\\n  );\\n};\\n\\nexport default Controls;\\n\",\"import * as React from 'react';\\n\\nfunction gridLayout(data) {\\n  const numPoints = data.length;\\n  const numCols = Math.ceil(Math.sqrt(numPoints));\\n  const numRows = numCols;\\n\\n  for (let i = 0; i < numPoints; ++i) {\\n    const datum = data[i];\\n    const col = (i % numCols) - numCols / 2;\\n    const row = Math.floor(i / numCols) - numRows / 2;\\n\\n    datum.x = col * 1.05;\\n    datum.y = row * 1.05;\\n    datum.z = 0;\\n  }\\n}\\n\\nfunction spiralLayout(data) {\\n  // equidistant points on a spiral\\n  let theta = 0;\\n  for (let i = 0; i < data.length; ++i) {\\n    const datum = data[i];\\n    const radius = Math.max(1, Math.sqrt(i + 1) * 0.8);\\n    theta += Math.asin(1 / radius) * 1;\\n\\n    datum.x = radius * Math.cos(theta);\\n    datum.y = radius * Math.sin(theta);\\n    datum.z = 0;\\n  }\\n}\\n\\nexport const useLayout = ({ data, layout = 'grid' }) => {\\n  React.useEffect(() => {\\n    switch (layout) {\\n      case 'spiral':\\n        spiralLayout(data);\\n        break;\\n      case 'grid':\\n      default: {\\n        gridLayout(data);\\n      }\\n    }\\n  }, [data, layout]);\\n};\\n\",\"import * as React from 'react';\\nimport * as THREE from 'three';\\nimport { useLayout } from './layouts';\\n\\n// re-use for instance computations\\nconst scratchObject3D = new THREE.Object3D();\\n\\nconst InstancedPoints = ({ data, layout }) => {\\n  useLayout({ data, layout });\\n  const meshRef = React.useRef();\\n  const numPoints = data.length;\\n\\n  // update instance matrices only when needed\\n  React.useEffect(() => {\\n    const mesh = meshRef.current;\\n\\n    // set the transform matrix for each instance\\n    for (let i = 0; i < data.length; ++i) {\\n      const { x, y, z } = data[i];\\n\\n      scratchObject3D.position.set(x, y, z);\\n      scratchObject3D.rotation.set(0.5 * Math.PI, 0, 0); // cylinders face z direction\\n      scratchObject3D.updateMatrix();\\n      mesh.setMatrixAt(i, scratchObject3D.matrix);\\n    }\\n\\n    mesh.instanceMatrix.needsUpdate = true;\\n  }, [data, layout]);\\n\\n  return (\\n    <instancedMesh\\n      ref={meshRef}\\n      args={[null, null, numPoints]}\\n      frustumCulled={false}\\n    >\\n      <cylinderBufferGeometry attach=\\\"geometry\\\" args={[0.5, 0.5, 0.15, 32]} />\\n      <meshStandardMaterial attach=\\\"material\\\" color=\\\"#fff\\\" />\\n    </instancedMesh>\\n  );\\n};\\n\\nexport default InstancedPoints;\\n\",\"import * as React from 'react';\\nimport { Canvas } from 'react-three-fiber';\\nimport Controls from './Controls';\\nimport InstancedPoints from './InstancedPoints';\\n\\nconst ThreePointVis = ({ data, layout }) => {\\n  return (\\n    <Canvas camera={{ position: [0, 0, 80], far: 15000 }}>\\n      <Controls />\\n      <ambientLight color=\\\"#ffffff\\\" intensity={0.1} />\\n      <hemisphereLight\\n        color=\\\"#ffffff\\\"\\n        skyColor=\\\"#ffffbb\\\"\\n        groundColor=\\\"#080820\\\"\\n        intensity={1.0}\\n      />\\n      <InstancedPoints data={data} layout={layout} />\\n    </Canvas>\\n  );\\n};\\n\\nexport default ThreePointVis;\\n\",\"import * as React from 'react';\\nimport ThreePointVis from './ThreePointVis/ThreePointVis';\\nimport './styles.css';\\n\\nconst data = new Array(10000).fill(0).map((d, id) => ({ id }));\\n\\nexport default function App() {\\n  const [layout, setLayout] = React.useState('grid');\\n\\n  return (\\n    <div className=\\\"App\\\">\\n      <div className=\\\"vis-container\\\">\\n        <ThreePointVis data={data} layout={layout} />\\n      </div>\\n      <div className=\\\"controls\\\">\\n        <strong>Layouts</strong>{' '}\\n        <button\\n          onClick={() => setLayout('grid')}\\n          className={layout === 'grid' ? 'active' : undefined}\\n        >\\n          Grid\\n        </button>\\n        <button\\n          onClick={() => setLayout('spiral')}\\n          className={layout === 'spiral' ? 'active' : undefined}\\n        >\\n          Spiral\\n        </button>\\n      </div>\\n    </div>\\n  );\\n}\\n\",\"import React from \\\"react\\\";\\nimport ReactDOM from \\\"react-dom\\\";\\n\\nimport App from \\\"./App\\\";\\n\\nconst rootElement = document.getElementById(\\\"root\\\");\\nReactDOM.render(<App />, rootElement);\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(30)},29:function(e,t,a){},30:function(e,t,a){\"use strict\";a.r(t);var r=a(1),n=a.n(r),c=a(7),o=a.n(c),l=a(3),i=a(6),s=a(17),u=a(21),f=a(2);Object(i.b)({TrackballControls:u.a});var m=function(e){Object(s.a)(e);var t=r.useRef(),a=Object(i.d)(),n=a.camera,c=a.gl;return Object(i.c)(function(){t.current.update()}),r.createElement(\"trackballControls\",{ref:t,args:[n,c.domElement],dynamicDampingFactor:.1,keys:[18,17,91],mouseButtons:{LEFT:f.MOUSE.PAN,MIDDLE:f.MOUSE.ZOOM,RIGHT:f.MOUSE.ROTATE}})};var d=function(e){var t=e.data,a=e.layout,n=void 0===a?\"grid\":a;r.useEffect(function(){switch(n){case\"spiral\":!function(e){for(var t=0,a=0;a<e.length;++a){var r=e[a],n=Math.max(1,.8*Math.sqrt(a+1));t+=1*Math.asin(1/n),r.x=n*Math.cos(t),r.y=n*Math.sin(t),r.z=0}}(t);break;case\"grid\":default:!function(e){for(var t=e.length,a=Math.ceil(Math.sqrt(t)),r=a,n=0;n<t;++n){var c=e[n],o=n%a-a/2,l=Math.floor(n/a)-r/2;c.x=1.05*o,c.y=1.05*l,c.z=0}}(t)}},[t,n])},E=new f.Object3D,v=function(e){var t=e.data,a=e.layout;d({data:t,layout:a});var n=r.useRef(),c=t.length;return r.useEffect(function(){for(var e=n.current,a=0;a<t.length;++a){var r=t[a],c=r.x,o=r.y,l=r.z;E.position.set(c,o,l),E.rotation.set(.5*Math.PI,0,0),E.updateMatrix(),e.setMatrixAt(a,E.matrix)}e.instanceMatrix.needsUpdate=!0},[t,a]),r.createElement(\"instancedMesh\",{ref:n,args:[null,null,c],frustumCulled:!1},r.createElement(\"cylinderBufferGeometry\",{attach:\"geometry\",args:[.5,.5,.15,32]}),r.createElement(\"meshStandardMaterial\",{attach:\"material\",color:\"#fff\"}))},h=function(e){var t=e.data,a=e.layout;return r.createElement(i.a,{camera:{position:[0,0,80],far:15e3}},r.createElement(m,null),r.createElement(\"ambientLight\",{color:\"#ffffff\",intensity:.1}),r.createElement(\"hemisphereLight\",{color:\"#ffffff\",skyColor:\"#ffffbb\",groundColor:\"#080820\",intensity:1}),r.createElement(v,{data:t,layout:a}))},g=(a(29),new Array(1e4).fill(0).map(function(e,t){return{id:t}}));function p(){var e=r.useState(\"grid\"),t=Object(l.a)(e,2),a=t[0],n=t[1];return r.createElement(\"div\",{className:\"App\"},r.createElement(\"div\",{className:\"vis-container\"},r.createElement(h,{data:g,layout:a})),r.createElement(\"div\",{className:\"controls\"},r.createElement(\"strong\",null,\"Layouts\"),\" \",r.createElement(\"button\",{onClick:function(){return n(\"grid\")},className:\"grid\"===a?\"active\":void 0},\"Grid\"),r.createElement(\"button\",{onClick:function(){return n(\"spiral\")},className:\"spiral\"===a?\"active\":void 0},\"Spiral\")))}var y=document.getElementById(\"root\");o.a.render(n.a.createElement(p,null),y)}},[[22,1,2]]]);","extractedComments":[]}